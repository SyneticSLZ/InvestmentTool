<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Funding Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @keyframes slideIn {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 50;
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            width: 90%;
            max-width: 1200px;
            border-radius: 1rem;
            animation: slideIn 0.3s ease-out;
            max-height: 96vh;
            overflow-y: auto;
        }

        .investor-card {
            transition: all 0.2s ease;
        }

        .investor-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .notification {
            animation: slideIn 0.3s ease-out;
        }

        /* Custom scrollbar */
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    <style>
        .dropdown-menu {
            display: none;
        }
        .dropdown-menu.active {
            display: block;
        }
        .modal {
            display: none;
        }
        .modal.active {
            display: flex;
        }        
        .modal-open {
            overflow: hidden;
        }
        
    </style>

</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-200">
    <header class="bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-40 transition-colors duration-200">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <!-- Logo and Title -->
                <div class="flex items-center space-x-6">
                    <div class="flex items-center space-x-2">
                        <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
                        </svg>
                        <span class="text-xl font-bold text-gray-900 dark:text-white">FundFlow</span>
                    </div>
                    
                    <!-- Funding Stage Dropdown -->
                    <div class="relative">
                        <button id="fundingDropdown" class="bg-gray-50 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg border dark:border-gray-600 transition-colors flex items-center space-x-2">
                            <i class="fas fa-chart-line"></i>
                            <span>Funding Stage</span>
                            <i class="fas fa-chevron-down ml-2"></i>
                        </button>
                        <div id="fundingMenu" class="dropdown-menu absolute mt-2 w-64 bg-white dark:bg-gray-700 rounded-lg shadow-lg border dark:border-gray-600 py-2 max-h-96 overflow-y-auto">
                            <div class="px-4 py-2">
                                <input type="text" placeholder="Search stages..." class="w-full px-3 py-2 rounded-md border dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-gray-700 dark:text-gray-200 text-sm">
                            </div>
                            <div class="funding-options"></div>
                        </div>
                    </div>
                </div>

                <!-- Right Side Controls -->
                <div class="flex items-center space-x-4">
                    <!-- Refresh Time -->
                    <span id="refreshTimestamp" class="text-sm text-gray-500 dark:text-gray-400"></span>
                    
                    <!-- Action Buttons -->
                    <button id="refreshBtn" class="bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg border dark:border-gray-600 transition-colors flex items-center">
                        <i class="fas fa-sync-alt mr-2"></i>
                        <span>Refresh</span>
                    </button>

                    <!-- Notifications -->
                    <div class="relative">
                        <button id="notificationBtn" class="bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 p-2 rounded-lg border dark:border-gray-600 transition-colors">
                            <i class="fas fa-bell"></i>
                            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">12</span>
                        </button>
                    </div>

                    <!-- Dark Mode Toggle -->
                    <button id="darkModeToggle" class="bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 p-2 rounded-lg border dark:border-gray-600 transition-colors">
                        <i class="fas fa-moon dark:hidden"></i>
                        <i class="fas fa-sun hidden dark:inline"></i>
                    </button>

                    <!-- Profile -->
                    <div class="relative">
                        <button id="profileBtn" class="flex items-center space-x-2 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg border dark:border-gray-600 transition-colors">
                            <img src="https://ui-avatars.com/api/?name=John+Doe" alt="Profile" class="w-6 h-6 rounded-full">
                            <span>John Doe</span>
                            <i class="fas fa-chevron-down ml-2"></i>
                        </button>
                        <div id="profileMenu" class="dropdown-menu absolute right-0 mt-2 w-48 bg-white dark:bg-gray-700 rounded-lg shadow-lg border dark:border-gray-600 py-2">
                            <a href="#" class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600">
                                <i class="fas fa-user mr-2"></i>Profile
                            </a>
                            <a href="#" class="block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600">
                                <i class="fas fa-cog mr-2"></i>Settings
                            </a>
                            <hr class="my-2 border-gray-200 dark:border-gray-600">
                            <a href="#" class="block px-4 py-2 text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600">
                                <i class="fas fa-sign-out-alt mr-2"></i>Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Notifications Modal -->
    <div id="notificationModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-start justify-center pt-20">
        <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl">
            <!-- Header -->
            <div class="flex justify-between items-center px-6 py-4 border-b dark:border-gray-700">
                <div class="flex items-center space-x-3">
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Activity Feed</h3>
                    <span class="px-2.5 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs font-medium rounded-full">12 New</span>
                </div>
                <button id="closeNotifications" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
    
            <!-- Notification Categories -->
            <div class="border-b dark:border-gray-700">
                <!-- <div class="px-6 py-2 flex space-x-4">
                    <button class="px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400">
                        All Updates
                    </button>
                    <button class="px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                        Funding Rounds
                    </button>
                    <button class="px-3 py-2 text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300">
                        Portfolio Updates
                    </button>
                </div> -->
            </div>
    
            <!-- Notification Content -->
            <div class="px-6 py-4 max-h-[32rem] overflow-y-auto">
                <div class="space-y-6">
                    <!-- Today's Section -->
                    <div class="space-y-4">
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Today</h4>
                        
                        <!-- Major Funding Event -->
                        <div class="flex items-start space-x-4 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg">
                            <div class="flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center">
                                <i class="fas fa-rocket text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <h5 class="text-sm font-semibold text-gray-900 dark:text-white">
                                        TechStart AI Raises $50M Series B
                                    </h5>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">30m ago</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                                    Led by Sequoia Capital with participation from existing investors
                                </p>
                                <div class="mt-2 flex items-center space-x-3">
                                    <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200">
                                        Series B
                                    </span>
                                    <span class="text-sm text-gray-500 dark:text-gray-400">
                                        <i class="fas fa-users mr-1"></i> 4 investors
                                    </span>
                                </div>
                            </div>
                        </div>
    
                        <!-- Recent Seed Round -->
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center">
                                <i class="fas fa-seedling text-green-600 dark:text-green-400"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <h5 class="text-sm font-semibold text-gray-900 dark:text-white">
                                        CloudScale Solutions Seed Round
                                    </h5>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">2h ago</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                                    $3M seed round for cloud infrastructure scaling platform
                                </p>
                                <span class="mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200">
                                    Seed Round
                                </span>
                            </div>
                        </div>
                    </div>
    
                    <!-- Yesterday's Section -->
                    <div class="space-y-4">
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Yesterday</h4>
                        
                        <!-- Series A Update -->
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center">
                                <i class="fas fa-chart-line text-purple-600 dark:text-purple-400"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <h5 class="text-sm font-semibold text-gray-900 dark:text-white">
                                        HealthTech Pro Series A
                                    </h5>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Yesterday</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                                    $15M raised for AI-powered healthcare diagnostics
                                </p>
                                <span class="mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200">
                                    Series A
                                </span>
                            </div>
                        </div>
    
                        <!-- Portfolio Company Update -->
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center">
                                <i class="fas fa-building text-yellow-600 dark:text-yellow-400"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <h5 class="text-sm font-semibold text-gray-900 dark:text-white">
                                        DataFlow Analytics Partnership
                                    </h5>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">Yesterday</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                                    Announces strategic partnership with Microsoft
                                </p>
                                <span class="mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200">
                                    Company Update
                                </span>
                            </div>
                        </div>
                    </div>
    
                    <!-- Previous Week Section -->
                    <div class="space-y-4">
                        <h4 class="text-sm font-medium text-gray-500 dark:text-gray-400">Previous Week</h4>
                        
                        <!-- Series C Update -->
                        <div class="flex items-start space-x-4">
                            <div class="flex-shrink-0 w-10 h-10 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center">
                                <i class="fas fa-dollar-sign text-indigo-600 dark:text-indigo-400"></i>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <h5 class="text-sm font-semibold text-gray-900 dark:text-white">
                                        SecureChain Series C
                                    </h5>
                                    <span class="text-xs text-gray-500 dark:text-gray-400">1 week ago</span>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-300 mt-1">
                                    $100M raised at $1B valuation for blockchain security
                                </p>
                                <span class="mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200">
                                    Series C
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <!-- Footer with View All link -->
            <div class="border-t dark:border-gray-700 px-6 py-4">
                <a href="#" class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium">
                    View All Updates <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div  id="mainContent" >
            <!-- Sample table structure - replace with your actual table -->
            
            <!-- Table will be inserted here by JavaScript -->
        </div>
    </main>

    <!-- Enhanced Modal -->
    <div id="fundingModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-start justify-center pt-16 px-4 z-50">
        <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden">
            <div class="sticky top-0 bg-white dark:bg-gray-800 border-b dark:border-gray-700 z-10">
                <div class="flex justify-between items-center p-6">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white" id="modalTitle">Funding Details</h2>
                    <button class="close-modal text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="px-6 pb-4">
                    <nav class="flex space-x-4">
                        <button class="modal-tab px-3 py-2 text-sm font-medium rounded-md transition-colors text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700" data-tab="details">
                            Funding Details
                        </button>
                        <button class="modal-tab px-3 py-2 text-sm font-medium rounded-md transition-colors text-gray-500 hover:text-gray-700 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700" data-tab="investors">
                            Investors & Contacts
                        </button>
                    </nav>
                </div>
            </div>
            <div class="p-6 overflow-y-auto" style="max-height: calc(90vh - 160px);">
                <div id="modalContent" class="text-gray-600 dark:text-gray-300"></div>
            </div>
        </div>
    </div>

    <!-- Email Composition Modal
<div id="emailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 items-center justify-center overflow-y-auto py-8 px-4">
    <div class="bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl shadow-xl min-h-[600px] flex flex-col">
        <-- Modal Header --
        <div class="flex items-center justify-between p-4 border-b dark:border-gray-700">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white">New Message</h3>
            <div class="flex items-center space-x-2">
                <button class="text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300">
                    <i class="fas fa-minus"></i>
                </button>
                <button onclick="closeEmailModal()" class="text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>

       
        <div class="border-b dark:border-gray-700 p-2 flex items-center space-x-2">
            <button onclick="sendEmail()" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                <i class="fas fa-paper-plane mr-2"></i>
                Send
            </button>
            <div class="h-6 border-r dark:border-gray-600"></div>
            <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-font"></i>
            </button>
            <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-bold"></i>
            </button>
            <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-italic"></i>
            </button>
            <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-list"></i>
            </button>
            <div class="h-6 border-r dark:border-gray-600"></div>
            <button onclick="toggleAttachments()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-paperclip"></i>
            </button>
            <button onclick="toggleTemplates()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-file-alt"></i>
            </button>
            <button onclick="toggleSignatures()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <i class="fas fa-signature"></i>
            </button>
        </div>

       
        <div class="flex-1 flex">
           
            <div class="flex-1 flex flex-col">
                <div class="p-4 space-y-4">
                  
                    <div class="flex items-center space-x-2">
                        <div class="w-16 text-sm text-gray-500 dark:text-gray-400">To:</div>
                        <input type="text" id="emailTo" class="flex-1 border-0 border-b dark:border-gray-600 focus:ring-0 focus:border-blue-500 dark:focus:border-blue-400 bg-transparent text-gray-900 dark:text-white" placeholder="Recipients">
                    </div>
                  
                    <div class="flex items-center space-x-2">
                        <div class="w-16 text-sm text-gray-500 dark:text-gray-400">Subject:</div>
                        <input type="text" id="emailSubject" class="flex-1 border-0 border-b dark:border-gray-600 focus:ring-0 focus:border-blue-500 dark:focus:border-blue-400 bg-transparent text-gray-900 dark:text-white" placeholder="Subject">
                    </div>

                    
                    <div class="flex-1 mt-4">
                        <textarea id="emailBody" class="w-full h-64 border-0 focus:ring-0 bg-transparent text-gray-900 dark:text-white resize-none" placeholder="Write your message here..."></textarea>
                    </div>

                   
                    <div id="attachmentsPreview" class="hidden border-t dark:border-gray-700 pt-4">
                        <div class="text-sm text-gray-500 dark:text-gray-400 mb-2">Attachments</div>
                        <div class="flex flex-wrap gap-2">
                           
                            <div class="inline-flex items-center px-3 py-1 rounded-lg bg-gray-100 dark:bg-gray-700 text-sm">
                                <i class="fas fa-file-pdf text-red-500 mr-2"></i>
                                <span class="text-gray-700 dark:text-gray-300">proposal.pdf</span>
                                <button class="ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div id="emailSidebar" class="w-80 border-l dark:border-gray-700 hidden">
               
                <div id="templatesPanel" class="h-full overflow-y-auto hidden">
                    <div class="p-4">
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-4">Email Templates</h4>
                        <div class="space-y-3">
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Introduction</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Initial contact template</div>
                            </button>
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Follow-up</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Post-meeting follow up</div>
                            </button>
                        </div>
                    </div>
                </div>

               
                <div id="signaturesPanel" class="h-full overflow-y-auto hidden">
                    <div class="p-4">
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-4">Signatures</h4>
                        <div class="space-y-3">
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Professional</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Standard business signature</div>
                            </button>
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Simple</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Name and title only</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->
<div id="emailModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 items-center justify-center">
    <div class="bg-white dark:bg-gray-800 w-full h-full md:h-[90vh] md:w-[90vw] md:max-w-6xl md:rounded-lg shadow-xl flex flex-col md:m-8">
        <!-- Modal Header -->
        <div class="flex items-center justify-between px-6 py-4 border-b dark:border-gray-700">
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">Compose Message</h3>
            <div class="flex items-center space-x-4">
                <button class="text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium">
                    <i class="fas fa-save mr-2"></i>
                    Save Draft
                </button>
                <button onclick="closeEmailModal()" class="text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex flex-1 overflow-hidden">
            <!-- Left: Email Composition -->
            <div class="flex-1 flex flex-col min-w-0">
                <!-- Email Toolbar -->
                <div class="border-b dark:border-gray-700 p-3 flex items-center space-x-2">
                    <button onclick="sendEmail()" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                        <i class="fas fa-paper-plane mr-2"></i>
                        Send
                    </button>
                    
                    <div class="h-6 border-r dark:border-gray-600"></div>
                    
                    <!-- Text Formatting -->
                    <div class="flex items-center space-x-1">
                        <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-font"></i>
                        </button>
                        <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-bold"></i>
                        </button>
                        <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-italic"></i>
                        </button>
                        <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-list"></i>
                        </button>
                        <button class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-link"></i>
                        </button>
                    </div>

                    <div class="h-6 border-r dark:border-gray-600"></div>

                    <!-- Media Tools -->
                    <div class="flex items-center space-x-1">
                        <button onclick="toggleMediaUpload('image')" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-image"></i>
                        </button>
                        <button onclick="toggleMediaUpload('video')" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-video"></i>
                        </button>
                        <button onclick="toggleAttachments()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-paperclip"></i>
                        </button>
                    </div>

                    <div class="h-6 border-r dark:border-gray-600"></div>

                    <!-- Templates & Signatures -->
                    <div class="flex items-center space-x-1">
                        <button onclick="toggleTemplates()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-file-alt"></i>
                        </button>
                        <button onclick="toggleSignatures()" class="p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                            <i class="fas fa-signature"></i>
                        </button>
                    </div>
                </div>

                <!-- Email Form -->
                <div class="flex-1 overflow-y-auto p-6">
                    <div class="max-w-4xl mx-auto space-y-6">
                        <!-- Recipients -->
                        <div class="space-y-4">
                            <div class="flex items-center space-x-2">
                                <div class="w-16 text-sm text-gray-500 dark:text-gray-400">To:</div>
                                <input type="text" id="emailTo" class="flex-1 border-0 border-b dark:border-gray-600 focus:ring-0 focus:border-blue-500 dark:focus:border-blue-400 bg-transparent text-gray-900 dark:text-white" placeholder="Recipients">
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-16 text-sm text-gray-500 dark:text-gray-400">Cc/Bcc:</div>
                                <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">Add Cc</button>
                                <span class="text-gray-400">|</span>
                                <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">Add Bcc</button>
                            </div>
                        </div>
                        
                        <!-- Subject -->
                        <div class="flex items-center space-x-2">
                            <div class="w-16 text-sm text-gray-500 dark:text-gray-400">Subject:</div>
                            <input type="text" id="emailSubject" class="flex-1 border-0 border-b dark:border-gray-600 focus:ring-0 focus:border-blue-500 dark:focus:border-blue-400 bg-transparent text-gray-900 dark:text-white" placeholder="Subject">
                        </div>

                        <!-- Message Body -->
                        <div class="relative">
                            <textarea id="emailBody" class="w-full min-h-[400px] border rounded-lg p-4 focus:ring-1 focus:ring-blue-500 dark:focus:ring-blue-400 bg-transparent text-gray-900 dark:text-white resize-none" placeholder="Write your message here..."></textarea>
                        </div>

                        <!-- Attachments Preview -->
                        <div id="attachmentsPreview" class="hidden">
                            <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-3">Attachments</h4>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                <!-- File Attachment Template -->
                                <div class="flex items-center p-3 border dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700">
                                    <div class="flex-shrink-0 w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-file-pdf text-blue-600 dark:text-blue-400"></i>
                                    </div>
                                    <div class="ml-3 flex-1 min-w-0">
                                        <p class="text-sm font-medium text-gray-900 dark:text-white truncate">proposal.pdf</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">2.4 MB</p>
                                    </div>
                                    <button class="ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>

                                <!-- Video Attachment Template -->
                                <div class="flex items-center p-3 border dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700">
                                    <div class="flex-shrink-0 w-10 h-10 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-video text-red-600 dark:text-red-400"></i>
                                    </div>
                                    <div class="ml-3 flex-1 min-w-0">
                                        <p class="text-sm font-medium text-gray-900 dark:text-white truncate">presentation.mp4</p>
                                        <p class="text-xs text-gray-500 dark:text-gray-400">15.7 MB</p>
                                    </div>
                                    <button class="ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar: Templates & Signatures -->
            <div id="emailSidebar" class="w-80 border-l dark:border-gray-700 hidden">
                <!-- Templates Panel -->
                <div id="templatesPanel" class="h-full overflow-y-auto hidden">
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-sm font-medium text-gray-900 dark:text-white">Email Templates</h4>
                            <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
                                + New Template
                            </button>
                        </div>
                        <div class="space-y-3">
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Pitch Template</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Investment opportunity pitch</div>
                            </button>
                            <button class="w-full text-left p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                                <div class="text-sm font-medium text-gray-900 dark:text-white">Follow-up</div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">Post-meeting follow up</div>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Signatures Panel -->
                <div id="signaturesPanel" class="h-full overflow-y-auto hidden">
                    <div class="p-4">
                        <div class="flex items-center justify-between mb-4">
                            <h4 class="text-sm font-medium text-gray-900 dark:text-white">Signatures</h4>
                            <button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300">
                                + Add Signature
                            </button>
                        </div>
                        <div class="space-y-4">
                            <!-- Default Signature -->
                            <div class="p-4 border dark:border-gray-700 rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center">
                                        <span class="w-2 h-2 bg-green-500 rounded-full"></span>
                                        <span class="ml-2 text-sm font-medium text-gray-900 dark:text-white">Default</span>
                                    </div>
                                    <div class="flex items-center space-x-2">
                                        <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                            <i class="fas fa-pencil-alt"></i>
                                        </button>
                                        <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="text-sm text-gray-600 dark:text-gray-300">
                                    John Smith<br>
                                    Investment Partner<br>
                                    Venture Capital LLC<br>
                                    +1 (555) 123-4567
                                </div>
                            </div>

                           <!-- Simple Signature -->
                           <div class="p-4 border dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm font-medium text-gray-900 dark:text-white">Simple</span>
                                <div class="flex items-center space-x-2">
                                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                        <i class="fas fa-pencil-alt"></i>
                                    </button>
                                    <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="text-sm text-gray-600 dark:text-gray-300">
                                Best regards,<br>
                                John Smith
                            </div>
                        </div>

                        <!-- Add New Signature Form -->
                        <div class="mt-6 space-y-4">
                            <h5 class="text-sm font-medium text-gray-900 dark:text-white">Add New Signature</h5>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm text-gray-500 dark:text-gray-400 mb-1">Name</label>
                                    <input type="text" 
                                           class="w-full px-3 py-2 border dark:border-gray-600 rounded-lg focus:ring-blue-500 dark:focus:ring-blue-400 bg-transparent"
                                           placeholder="Signature name">
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-500 dark:text-gray-400 mb-1">Content</label>
                                    <div class="border dark:border-gray-600 rounded-lg p-2">
                                        <!-- Rich Text Editor Toolbar -->
                                        <div class="flex items-center space-x-2 border-b dark:border-gray-600 pb-2 mb-2">
                                            <button class="p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                                <i class="fas fa-bold"></i>
                                            </button>
                                            <button class="p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                                <i class="fas fa-italic"></i>
                                            </button>
                                            <button class="p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                                <i class="fas fa-link"></i>
                                            </button>
                                            <button class="p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                                                <i class="fas fa-image"></i>
                                            </button>
                                        </div>
                                        <textarea class="w-full min-h-[100px] bg-transparent text-gray-900 dark:text-white resize-none focus:outline-none"
                                                  placeholder="Enter your signature content"></textarea>
                                    </div>
                                </div>
                                <button class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                                    Save Signature
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Media Upload Panel -->
            <div id="mediaUploadPanel" class="h-full overflow-y-auto hidden">
                <div class="p-4">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-sm font-medium text-gray-900 dark:text-white">Upload Media</h4>
                        <button onclick="closeMediaUpload()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <!-- Upload Area -->
                    <div class="border-2 border-dashed dark:border-gray-600 rounded-lg p-8 text-center">
                        <div class="space-y-4">
                            <div class="flex justify-center">
                                <div class="w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                                    <i class="fas fa-cloud-upload-alt text-2xl text-blue-600 dark:text-blue-400"></i>
                                </div>
                            </div>
                            <div>
                                <h5 class="text-sm font-medium text-gray-900 dark:text-white">Drop files here or click to upload</h5>
                                <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">Support for images, videos, and documents</p>
                            </div>
                            <button class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>
                                Choose Files
                            </button>
                        </div>
                    </div>

                    <!-- Upload Progress -->
                    <div class="mt-6 space-y-4">
                        <div class="p-3 border dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-700">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-medium text-gray-900 dark:text-white">presentation.mp4</span>
                                <span class="text-xs text-gray-500 dark:text-gray-400">15.7 MB</span>
                            </div>
                            <div class="w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-full">
                                <div class="h-2 bg-blue-600 rounded-full" style="width: 75%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="border-t dark:border-gray-700 px-6 py-4">
        <div class="flex items-center justify-between">
            <div class="text-sm text-gray-500 dark:text-gray-400">
                <i class="fas fa-lock mr-1"></i>
                End-to-end encrypted
            </div>
            <div class="flex items-center space-x-4">
                <button class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-trash mr-1"></i>
                    Discard
                </button>
                <button onclick="sendEmail()" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
                    <i class="fas fa-paper-plane mr-2"></i>
                    Send Email
                </button>
            </div>
        </div>
    </div>
</div>
</div>

<!-- Media Preview Modal -->
<div id="mediaPreviewModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 items-center justify-center">
<div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4">
    <div class="flex items-center justify-between p-4 border-b dark:border-gray-700">
        <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Preview Media</h3>
        <button onclick="closeMediaPreview()" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="p-4">
        <div class="aspect-w-16 aspect-h-9 bg-gray-100 dark:bg-gray-700 rounded-lg">
            <!-- Media preview content goes here -->
        </div>
    </div>
    <div class="flex items-center justify-end p-4 border-t dark:border-gray-700">
        <button onclick="insertMedia()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors">
            Insert Media
        </button>
    </div>
</div>
</div>

    <script src="claude.js"></script>
    <script src="output.js"></script>
    <script>
        // Funding stages array
        const fundingStages = [
            'pre_seed', 'seed', 'series_a', 'series_b', 'series_c', 'series_d', 
            'series_e', 'series_f', 'series_g', 'series_h', 'series_i', 'series_j', 
            'series_unknown', 'angel', 'private_equity', 'debt_financing', 
            'convertible_note', 'grant', 'corporate_round', 'equity_crowdfunding', 
            'product_crowdfunding', 'secondary_market', 'post_ipo_equity', 
            'post_ipo_debt', 'post_ipo_secondary', 'non_equity_assistance', 
            'initial_coin_offering', 'undisclosed'
        ];

        // Populate funding options
        const fundingOptionsContainer = document.querySelector('.funding-options');
        fundingStages.forEach(stage => {
            const option = document.createElement('a');
            option.href = '#';
            option.className = 'block px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors';
            option.textContent = stage.split('_').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
            fundingOptionsContainer.appendChild(option);
        });

        // Toggle dropdowns and modal
        const notificationModal = document.getElementById('notificationModal');
        const fundingDropdown = document.getElementById('fundingMenu');
        const profileDropdown = document.getElementById('profileMenu');

        // Notification button click handler
        document.getElementById('notificationBtn').addEventListener('click', (event) => {
            event.stopPropagation();
            notificationModal.classList.remove('hidden');
            notificationModal.classList.add('active');
        });

        // Close notification modal
        document.getElementById('closeNotifications').addEventListener('click', () => {
            notificationModal.classList.remove('active');
            setTimeout(() => {
                notificationModal.classList.add('hidden');
            }, 200);
        });

        // Close modal when clicking outside
        notificationModal.addEventListener('click', (event) => {
            if (!event.target.closest('.bg-white.dark\\:bg-gray-800')) {
                notificationModal.classList.remove('active');
                setTimeout(() => {
                    notificationModal.classList.add('hidden');
                }, 200);
            }
        });

        // Handle other dropdowns
        document.addEventListener('click', function(event) {
            if (event.target.closest('#fundingDropdown')) {
                fundingDropdown.classList.toggle('active');
                profileDropdown.classList.remove('active');
            } else if (event.target.closest('#profileBtn')) {
                profileDropdown.classList.toggle('active');
                fundingDropdown.classList.remove('active');
            } else if (!event.target.closest('#fundingMenu') && !event.target.closest('#profileMenu')) {
                fundingDropdown.classList.remove('active');
                profileDropdown.classList.remove('active');
            }
        });

        // Dark mode toggle with local storage persistence
        const darkModeToggle = document.getElementById('darkModeToggle');
        
        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true' || 
            (!localStorage.getItem('darkMode') && 
             window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // Update dark mode state
        function updateDarkMode(isDark) {
            if (isDark) {
                document.documentElement.classList.add('dark');
                localStorage.setItem('darkMode', 'true');
            } else {
                document.documentElement.classList.remove('dark');
                localStorage.setItem('darkMode', 'false');
            }
        }

        // Toggle dark mode
        darkModeToggle.addEventListener('click', () => {
            const isDark = !document.documentElement.classList.contains('dark');
            updateDarkMode(isDark);
        });

        // Listen for system dark mode changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('darkMode')) {
                updateDarkMode(e.matches);
            }
        });

        // Update timestamp
        function updateTimestamp() {
            const now = new Date();
            document.getElementById('refreshTimestamp').textContent = 
                `Last updated: ${now.toLocaleTimeString()}`;
        }
        updateTimestamp();

        // Refresh button
        document.getElementById('refreshBtn').addEventListener('click', updateTimestamp);

        // Search functionality for funding stages
        const searchInput = document.querySelector('input[type="text"]');
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const options = document.querySelectorAll('.funding-options a');
            
            options.forEach(option => {
                const text = option.textContent.toLowerCase();
                option.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>